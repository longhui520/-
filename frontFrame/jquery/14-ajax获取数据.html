<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ajax获取数据</title>
    <script src="jquery-3.0.0.js"></script>
    <!-- <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script> -->
    <style>
        .mask{
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: none;
            animation: zoom 0.6s;
        }
        .wrap{
            display: table-cell;
            vertical-align: middle;
        }
        .container{
            width: 80%;
            height: 300px;
            background-color: #fff;
            margin:0 auto;
        }
        @keyframes zoom{
        from {transform: scale(0)}
        to {transform: scale(1)}
        }
    </style>
</head>
<body>
    <button id="ajax">加载豆瓣</button>
    <div class="mask" id="loading">
        <div class="wrap">
            <div class="container">加载中</div>
        </div>
    </div>
    <script>
        $(function(){
            // $().ajaxStart(function(){
            //         console.log(1);
            //         if(true){
            //             window.ajaxss.abort();
            //         }
            //     })
            // $.ajaxSetup({
            //     beforeSend:function(xhp){
                  
            //     },
            //     dataFilter:function(data,type){
            //         console.log(data);
            //         console.log(type)
            //     }
            // }); 
            $("#ajax").on('click',function(){
                // $("#loading").css('display','table');
                // $.ajax({
                //     url:'http:/192.168.3.194/Admin/index.php/add',
                //     data:{
                //         // text2:'我是中文',
                //         // id:'23',
                //         // fields:'select7',
                //         // masid:'23',
                //         // orderno:'1111',
                //         // createid:11,
                //         __hash__:'470a827cc6693a8dc30b70f44f417703_b7db6b663872834377bb1ce4ed7a122d',
                //         actionname:'MisAutoOam',
                //         mobile:true
                //         },
                //     method:'POST',
                //     // contentType:'application/x-www-form-urlencoded',
                //     // dataType:'jsonp',
                //     // contentType:'application/json',
                //     // jsonpCallback:"callback",
                //     success:function(data){
                //         console.log(data)
                //         alert(JSON.stringify(data))
                //         $("#loading").css('display','none');
                //     }
                // }
              
                window.ajaxss = $.ajax({
                    url:'http://api.douban.com/v2/movie/top250',
                    dataType:'jsonp',
                    jsonCallback:'callback',
                    contentType:'application/json',
                    success:function(data){
                        console.log('返回成功');
                    },
                    fail:function(data){
                        console.log('返回失败')
                    }
                })
            })
           
        })
    </script>
    <script>
        // function getOption(url){
        //     var _this =this;
        //     $(function(){
        //         $.ajax({
        //             "url":url,
        //             success:function(response){
		// 				if(response.code == 200){
		// 				    _this.options = response.data;
		// 				}
        //             },
        //             error:function(error){
        //                 console.log("error"+JSON.stringify(err))
        //             }
        //         });
        // });
        // }
        // var obj={
        //     options:[]
        // }
        // getOption.call(obj,"http://192.168.3.125/admin/index.php/selectdata/actionname/MisAutoJqt/fields/kaifarenyuan/mobile/true");
        // $.ajax({
        //         url: 'www.pp.com/MisAutoMobileSvf/getAppJson',//绝对路径的json文件
        //         dataType:'json',
        //         success: function (data) {
        //             console.log(data)
        //         },
        //         error:function(error){
        //             console.error('属性配置获取异常');
        //     }
        // });
    
    
    
    </script>
</body>
</html>